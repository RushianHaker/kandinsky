/** Main styles for content objects **/

/** Commons **/
.thumbnail-link { display: block; }
.sep { padding: 0 4px; }

.fixed-top {
	position: fixed;
	top: 95px + 280px;
}

.fixed-bottom {
	position: absolute;
	bottom: 0;				
}


/**  Cards Structure **/


.cards-loop {

    margin-left: -1.8*$base;

	.card {
		margin-bottom: $gut;
        margin-left: 1.8*$base;
	}
	
}


/** News **/
@mixin post-meta() {
	@include nav-text(meta_small);
	display: inline-block;
	color: var(--knd-color-main-dark);
	padding: 4px 8px;

    span.category {
        body.plot-public-campaign & {
            @include knd-link-lonely-text();
        }
        
        body.plot-fundraising-org & {
            @include knd-link-lonely-text();
            color: var(--knd-color-third);
        }
        
    }

	a {
		color: inherit;
		&:hover { text-decoration: underline; }
	}
	
    .date {
      color: $color-border-dark;
      
        body.plot-public-campaign & {
            color: $color-text;
        }
        
        body.plot-public-campaign.single & {
            color: $color-text-black;
        }
        
    }
    
    .sep {
        display:inline-block;
        width: 5px;
        height: 5px;
        border: solid 1px $color-border-dark;
        
        body.plot-public-campaign & {
            border-color: $color-text;
        }
        
        body.plot-public-campaign.single & {
            border-color: $color-text-black;
        }
        
        border-radius: 5px;
        padding:0px;
        vertical-align:baseline;
        margin:1px 7px 2px 7px;
    }
	
}

@mixin shadowed-preview {
	width: 100%;
	position: relative;
	z-index: 1;
	
	img {
		position: relative;
		width: 100%;
		z-index: 2;
	}
	
	&:after {
		content: '';
		display: block;
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background: rgba(0,0,0, 0);
		z-index: 10;
		transition: all 0.35s;
	}	
}

.tpl-post {
	background: $color-white;
	transition: all 0.3s;
	
	&:hover {
		background: transparentize($color-white, .3);
		.entry-preview:after { background: rgba(0,0,0, 0.25); }
	}
	
    body.plot-public-campaign & {
        background: $color-bg-dark-gray;
    }
	
	a {
		display: block;
		color: $color-text;
		position:relative;
		height: 100%;
	}
	
	.entry-data {
		padding: 11px $base 0px 23px;
		position: relative;
		margin-bottom:$gut * 2;
	}
	
	.entry-preview {
		@include shadowed-preview();
		
		img {
		  margin-bottom:0px;
		}
	}
	
	.entry-meta {
		@include post-meta();		
		position: absolute;
		bottom: 13px;
		left: 16px;
		z-index: 100;
	}
	
	.entry-title {
		@include post-title();
		margin-bottom: $base*0.75;				
		padding-top: 0px;
		hyphens: auto;
	}
	
	.entry-summary {
		@include body-text(summary);
		color: $color-text;
	}
}


/** paging **/
.paging {
    @include knd-link-paging-text();
	padding: $base/1.5 0 $base * 3.2 0;
	text-align: center;
	
	.page-numbers {
		display: inline-block;
		color: $color-text-black;
		padding: 0px 10px;
		transition: all 0.3;
		
		&:hover, &:focus, &:active {
			color: $color-white;
			background: var(--knd-color-main);
		}
		&.current {
			color: $color-white;
			background: var(--knd-color-main);
		}
	}
	
	&:empty { display: none; }
}


/* Related section */
.related-card-holder {
    margin-top: $gut;
    
	.related-title {
		@include knd-head-section-text();
	}
	
	a {
	   @include knd-link-related-text();
	   color: var(--knd-color-main-dark);
	   margin-bottom: 16px;
	}	
}

.related-all-link {
	text-align: center;
	padding-bottom: $gut;
	color: $color-link-three;
	
	a {
		@include nav-text(meta);
		padding: 14px 24px;
		font-size: 16px;
		line-height: 18px;
		color: $color-text-black;			
		text-align: center;
		
		&:hover, &:focus, &:active {
			color: $color-white;
			background: $color-text-black;	
		}
	}
	
	margin-top: $gut;
	@include for(medium-screens) {
		margin-top: 0;
	}
}

.related-cards-loop {
    margin-top: $gut / 2;
    a {
        display:block;
    }
}

.tpl-related-post {
	@extend .tpl-post;
	
	&:hover {
		background: $color-secondary-alt;		
	}
	
	.entry-data {
        padding: 21px 33px 0px 33px;
        position: relative;
        margin-bottom: $gut * 1.6;
	}
	
	.entry-meta {
        background:none;
        bottom: 13px;
        left: 26px;
        z-index: 100;
	}
	
	.entry-title {
		font-size: 1.5em;
		line-height: 1.1;
		margin-top: 0 !important;
	}
}



/** Single **/
.entry-header-full {
	padding: $gut/1.5 0px $gut/1.33 0px;
	
	.entry-title {
		@include knd-head-exlarge-single-text();
		hyphens: auto;
	}
	
	.entry-meta {
		@include post-meta();
		padding: 4px 0px 13px 0px;
	}
		
	.full-event-metas {
		margin-top: $gut/4;
		
		@include for(medium-screens) {
			margin-top: $gut/2;
			//@include calc(width, '66.66% - 16px');
			font-size: 1.2em;
			font-weight: 300;
		}
	}
}

.full-width-image {
    @include vertical-image-header-fixed();
    margin-bottom: $gut;
    
    @include for(large-screens) {
        height: 500px;
    }
    
    .entry-preview {
    }
    
    .entry-header-full {
        transform: translateY(-100%);
        padding-bottom: $gut * 2;
        
        .entry-title {
            padding-top: 10px;
            @include knd-head-exlarge-intro-text();
        }
        
        .entry-meta {
            color: $color-white;
            
            .date {
                color: $color-white;
            }
            
            .sep {
                border-color: $color-white;
            }
        }
        
        .entry-title {
            color: $color-white;
        }
    }
}

.single-post-section {
    .full-width-image {
        .introimg {
            @include for(large-screens) {
                height: 500px;
            }
        }
    }
}

.single-post-section {
	position: relative;
		
	.entry-preview {
		position: relative;
		margin-bottom: $gut / 1.15;
	}
	
	.introimg  {
		@include vertical-image-header-fixed();
	}
	
    .entry-lead {
        @include knd-lead-text();
        margin-bottom: $gut / 1.33;
        
        @include for(medium-screens) {
        }
    }
}

/* sharing */
.single-sharing-col {
    position:relative;
}

.regular-sharing {
	position: absolute;
	width: 45px;
	height: calc(100% - 280px);
	top: 0px;
	left: 0;
	z-index: 100;
	
	//.single & .social-likes { padding-top: $gut; }
}
	
.mobile-sharing {	
	.social-likes {
		@include clearfix;
		padding: 8px 0;
	}
	
	.social-likes__widget {
		float: left;
		margin: 0 8px 0 0;
	}
}

/* single post terms */
.single-post-terms {
}

.tags-line {
    padding-top: $gut / 2.2;
    a {
        color: var(--knd-color-main-dark);
        @include knd-link-terms-text();
        margin-right: 4px;
    }
}

/** Programms **/
.tpl-project {
    transition: all 0.3s;
    
    &:hover {
        .entry-preview:after { background: rgba(0,0,0, 0.3); }
    }   
    
    a {
        display: block;
        color: $color-white;
        position:relative;
        height: 100%;
    }
    
    .entry-preview {
        @include shadowed-preview();
        
        img {
          margin-bottom:0px;
        }
    }
    
    .entry-title {
        @include post-title();
        margin-bottom: $base*0.75;
        padding: 24px 0px 0px 0px;
        hyphens: auto;
    }
}



/** People **/
.tpl-person {
	margin-bottom: $gut;
	background: $color-white;
	
	transition: background 0.3s;
		
	&.linked:hover {
		background: $color-secondary-alt;
		.entry-preview:after { background: rgba(0,0,0, 0.08); }
	}
	
	
	.entry-title {		
		@include post-title(small_title);
		line-height: 1.2;
		margin-bottom: 12px;
	}
	
	.entry-preview {
		@include shadowed-preview();
	}
	
	.entry-meta {		
		@include sub-title();
		line-height: 1.4;
		text-transform: none;
		
		a[href *= "tel"] {
			color: $color-text-black;
			cursor: default;
			&:hover {  color: $color-text-black; }
		}
	}
	
	.entry-data {
		padding: $gut/2;
	}
	
	.people-cards-shortcode &:hover {
		background: $color-white;	
	}
	
	.people-cards-shortcode & .entry-preview:after {
		display:none;
	}
	
	.people-cards-shortcode & .entry-data {
		padding-bottom: 0;
	}
}


/** Events **/
.tpl-event {
	@extend .tpl-post;
	
	span[itemprop="address"]{
		span[itemprop="streetAddress"] { display: none; }
		span[itemprop="name"]:before {
			content: ', ';
		}
	}
}

.full-event-metas {		
	color: $color-text-black;
	
	p:last-of-type { margin-top: 8px;}
	
	span[itemprop="addressLocality"] + span[itemprop="name"],
	span[itemprop="addressLocality"] + span[itemprop="streetAddress"],
	span[itemprop="streetAddress"] + span[itemprop="name"] {
		&:before { content: ', '; }
	}
}

.entry-content .lead {
	margin-bottom: $margin-base;	
}



/** Partners **/
.tpl-org {
	position: relative;
	width: 100%;
	height: 0;
	padding-bottom: 40%;
	margin-bottom: $gut;
	text-align: center;
	
	@include for(small-screens) {
		padding-bottom: 60%;
	}
	
	.logo-link {
		display: block;
		width: 100%;
		height: 100%;
		position: absolute;
		top: 0;
		left: 0;
		
		
		span {
			display: inline-block;
			width: 100%;
			height: 100%;
			vertical-align: middle;
			line-height: 130px;
		}
	}
	
	img {
		max-width: 100%;
		max-height: 100%;
		vertical-aling: middle;
		width: auto;
		height: auto;
	}
}

/** Store **/
.tpl-storeitem {
	cursor: pointer;
	
	.entry-preview {
		width: 100%;
		height: 0;
		padding-bottom: 65%;
		position: relative;
		@include shadowed-preview();
		
		.tpl-pictured-bg {
			position: absolute;
			z-index: 2;
		}
	}
	
	.entry-data {
		position: relative;
	}
	
	.entry-price {
		@include post-meta();
		background: $color-link-two;
		position: absolute;
		top: 0;
		transform: translateY(-100%);
		z-index: 100;
	}
	
	.entry-title {
		@include post-title();
		margin: 0;				
		padding-top: $base/2;		
	}
	
	.entry-summary { 
		@include body-text(small);
		color: $color-text;
		margin-top: $base;
	}
	
	&:hover { 
		
		.entry-preview:after { background: rgba(0,0,0, 0.08); }
	}
}

@media screen and (max-width: 640px) {
	.panel-grid .store_bubble_left {
		top: 80px;
	}
	.store_title .store_bubble {
		top:75px;
	}
	.panel-grid .store_bubble, .panel-grid .store_bubble_left {
		font-size: 23px;
		padding: 18px;
	}
}

@media screen and (max-width: 380px) {
	.panel-grid .store_bubble_left, .store_title .store_bubble {
		font-size: 20px;
		width: 100%;
		text-align: center;
	}
	.panel-grid .store_bubble {
		top:115px;		
	}
	.panel-grid .store_bubble_left {
		top:130px;		
	}
}
.store_bubble, .store_bubble_left {
	display: none;
	position: absolute;
	background: #d82332;
	color: #fff;
	padding: 20px;
	box-shadow: 0 0 3px 0 rgba(0,0,0,0.3);
	font:26px "Roboto Condensed","HelveticaNeue-CondensedBold","Helvetica Neue",Helvetica Neue,Helvetica,sans-serif;
	-webkit-border-radius: 1px;
	-moz-border-radius: 1px;
	-o-border-radius: 1px;
	border-radius: 1px;
	&.fadeIn {
		display: block;
	}
}
.store_bubble {
	right: 0%;
	top: 40px;
}
.store_bubble_left {
	right: 0;
	top: 44px;
}
.store_form {
	position: relative;
}
// .store_bubble.fadeIn, .store_bubble_left.fadeIn {
// 	display: block;
// }
.animated {
  -webkit-animation-duration: 1s;
  animation-duration: 1s;
  -webkit-animation-fill-mode: both;
  animation-fill-mode: both;
}
@-webkit-keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

.fadeIn {
  -webkit-animation-name: fadeIn;
  animation-name: fadeIn;
}
@keyframes fadeOut {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
  }
}

.fadeOut {
  -webkit-animation-name: fadeOut;
  animation-name: fadeOut;
}
@media screen and (max-width: 1180px) {
	.store_title .store_bubble {
		right: 0;
	}
}
	
/* single */
.knd-signle-after-content {
    margin-top:$gut * 1.5;
}

/* archive */
.cards-holder.archive-post-list {
    padding-top:0px;
    
    &.next-page {
        padding-top: $gut;
    }
}

.listing-bg {
   background: $color-bg-light;
}

.featured-post {
    
   margin-top: 70px;
   margin-bottom: -70px;
   
   .cards-loop {
       transform: translateY(-70px);
   } 
}

/* single post */
.single {
    .entry-content {
        @include the-content();
    }
}